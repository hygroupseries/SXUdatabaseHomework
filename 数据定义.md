```
CREATE VIEW Sub_T AS
SELECT *
FROM student
WHERE smajor = '计算机科学与技术';
```

```
CREATE TABLE Student (
    sno CHAR(20) PRIMARY KEY,
    sname VARCHAR(20) NOT NULL,
    ssex CHAR(2),
    sbirthdate TEXT,
    smajor VARCHAR(20),
    CHECK (Sex IN ('男', '女'))
);
```

```
CREATE VIEW S_SC_C AS
SELECT s.sno, s.sname, C.CName, SC.Grade
FROM Student s
JOIN SC ON s.sno = SC.sno
JOIN Course C ON SC.cno = C.cno;
```

```
CREATE VIEW S_Avg AS
SELECT S.SNo, S.SName, AVG(SC.Grade) AS AvgGrade
FROM Student S
LEFT JOIN SC ON S.SNo = SC.SNo
GROUP BY S.SNo, S.SName;
```

```
CREATE UNIQUE INDEX IDX_SC_SNo_CNo ON SC(SNo, CNo);
```

```
CREATE CLUSTERED INDEX IDX_S_SName ON Student(SName);
```